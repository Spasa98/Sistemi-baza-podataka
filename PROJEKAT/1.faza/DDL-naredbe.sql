--BAZA JE IMPLEMENTIRANA NA NALOGU S16473

CREATE TABLE ZAPOSLENI(
        ID NUMBER(10,0) PRIMARY KEY,
        JMBG NUMBER(13,0) NOT NULL,
        IME VARCHAR(50) NOT NULL,
        PREZIME VARCHAR(50) NOT NULL,
	POL CHAR(1) NOT NULL,
        DATUM_RODJENJA DATE NOT NULL
);

CREATE SEQUENCE ZAPOSLENI_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE REGIONALNI_CENTAR(
        ID NUMBER(10,0) PRIMARY KEY,
        ADRESA VARCHAR(50) NOT NULL
);

CREATE SEQUENCE REGIONALNI_CENTAR_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE EKIPA(
        ID NUMBER(10,0) PRIMARY KEY,
	NAZIV VARCHAR(50)
);

CREATE SEQUENCE EKIPA_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE SMENA(
        ID NUMBER(10,0) PRIMARY KEY,
        VREME_POCETKA VARCHAR(20) NOT NULL,
        VREME_KRAJA VARCHAR(20) NOT NULL
);

CREATE SEQUENCE SMENA_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE TEHNICKO_LICE(
        ID NUMBER(10,0) PRIMARY KEY,
	OBLAST_TEHNIKE VARCHAR(50) NOT NULL,
        STRUCNA_SPREMA VARCHAR(50) NOT NULL,
        CONSTRAINT ZAPOSLENI_TEHNICKO_LICE_FK FOREIGN KEY(ID) REFERENCES ZAPOSLENI(ID)
);

CREATE TABLE MENADZER(
        ID NUMBER(10,0) PRIMARY KEY,
        ID_REGIONALNI_CENTAR NUMBER(10,0) NOT NULL,
        CONSTRAINT ZAPOSLENI_MENADZER_FK FOREIGN KEY(ID) REFERENCES ZAPOSLENI(ID),
        CONSTRAINT REGIONALNI_CENTAR_FK FOREIGN KEY(ID_REGIONALNI_CENTAR) REFERENCES REGIONALNI_CENTAR(ID)
);

CREATE TABLE FIZICKO_OBEZBEDJENJE(
        ID NUMBER(10,0) PRIMARY KEY,
        BORILACKA_VESTINA VARCHAR(50) NOT NULL,
        VODJA_FLAG NUMBER(1,0) NOT NULL,
	ID_EKIPA NUMBER(10,0) NOT NULL,
        CONSTRAINT ZAPOSLENI_OBEZBEDJENJE_FK FOREIGN KEY(ID) REFERENCES ZAPOSLENI(ID),
	CONSTRAINT EKIPA_FK FOREIGN KEY(ID_EKIPA) REFERENCES EKIPA(ID)
);

CREATE TABLE GRAD(
        ID NUMBER(10,0) PRIMARY KEY,
        NAZIV VARCHAR(50) NOT NULL,
        ID_MENADZER NUMBER(10,0) NOT NULL,
        ID_REGIONALNI_CENTAR NUMBER(10,0) NOT NULL,
        CONSTRAINT REGIONALNI_CENTAR_FK2 FOREIGN KEY(ID_REGIONALNI_CENTAR) REFERENCES REGIONALNI_CENTAR(ID),
        CONSTRAINT MENADZER_FK FOREIGN KEY(ID_MENADZER) REFERENCES MENADZER(ID)
);

CREATE SEQUENCE GRAD_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE VOZILO(
        ID NUMBER(10,0) PRIMARY KEY,
        REGISTARSKA_OZNAKA VARCHAR(10) NOT NULL,
	MODEL VARCHAR(50) NOT NULL,
        PROIZVODJAC VARCHAR(50) NOT NULL,
	TIP VARCHAR(50) NOT NULL,
        BOJA VARCHAR(50) NOT NULL,
        ID_REGIONALNI_CENTAR NUMBER(10,0) NOT NULL,
        CONSTRAINT REGIONALNI_CENTAR_FK3 FOREIGN KEY(ID_REGIONALNI_CENTAR) REFERENCES REGIONALNI_CENTAR(ID)
);

CREATE SEQUENCE VOZILO_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE ALARMNI_SISTEM(
        ID NUMBER(10,0) PRIMARY KEY,
        PROIZVODJAC VARCHAR(50) NOT NULL,
	DATUM_INSTALACIJE DATE NOT NULL,
        GODINA_PROIZVODNJE NUMBER(4,0) NOT NULL,
        DTO_FLAG NUMBER(1,0) NOT NULL,
	VERTIKALNA_REZ NUMBER(10,0),
        HORIZONTALNA_REZ NUMBER(10,0),
        US_FLAG NUMBER(1,0) NOT NULL,
        OPSEG_FREKVENCIJE NUMBER(10,0),
        DP_FLAG NUMBER(1,0) NOT NULL,
        OSETLJIVOST NUMBER(10,0)
);

CREATE SEQUENCE ALARMNI_SISTEM_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE OBJEKAT(
        ID NUMBER(10,0) PRIMARY KEY,
        ADRESA VARCHAR(50) NOT NULL,
	TIP_OBJEKTA VARCHAR(50) NOT NULL,
        POVRSINA NUMBER(10,0) NOT NULL,
        ID_ALARMNI_SISTEM NUMBER(10,0) NOT NULL,
        CONSTRAINT ALARMNI_SISTEM_FK FOREIGN KEY(ID_ALARMNI_SISTEM) REFERENCES ALARMNI_SISTEM(ID)
);

CREATE SEQUENCE OBJEKAT_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE TELEFON_RC(
        ID NUMBER(10,0) PRIMARY KEY,
        TELEFON VARCHAR(20) NOT NULL,
        ID_REGIONALNI_CENTAR NUMBER(10,0) NOT NULL,
        CONSTRAINT REGIONALNI_CENTAR_FK4 FOREIGN KEY(ID_REGIONALNI_CENTAR) REFERENCES REGIONALNI_CENTAR(ID)
);

CREATE SEQUENCE TELEFON_RC_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE TELEFON_O(
        ID NUMBER(10,0) PRIMARY KEY,
        TELEFON VARCHAR(20) NOT NULL,
        ID_OBJEKAT NUMBER(10,0) NOT NULL,
        CONSTRAINT OBJEKAT_FK FOREIGN KEY(ID_OBJEKAT) REFERENCES OBJEKAT(ID)
);

CREATE SEQUENCE TELEFON_O_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE ODRZAVA(
        ID NUMBER(10,0) PRIMARY KEY,
        ID_TEHNICKO_LICE NUMBER(10,0) NOT NULL,
        ID_ALARMNI_SISTEM NUMBER(10,0) NOT NULL,
        DATUM_OD DATE NOT NULL,
        DATUM_DO DATE,
        CONSTRAINT TEHNICKO_LICE_FK FOREIGN KEY(ID_TEHNICKO_LICE) REFERENCES TEHNICKO_LICE(ID),
        CONSTRAINT ALARMNI_SISTEM_FK2 FOREIGN KEY(ID_ALARMNI_SISTEM) REFERENCES ALARMNI_SISTEM(ID)
);

CREATE SEQUENCE ODRZAVA_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE RADI(
        ID NUMBER(10,0) PRIMARY KEY,
        ID_EKIPA NUMBER(10,0) NOT NULL,
        ID_SMENA NUMBER(10,0) NOT NULL,
        CONSTRAINT EKIPA_FK2 FOREIGN KEY(ID_EKIPA) REFERENCES EKIPA(ID),
        CONSTRAINT SMENA_FK FOREIGN KEY(ID_SMENA) REFERENCES SMENA(ID)
);

CREATE SEQUENCE RADI_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE OBILAZI(
        ID NUMBER(10,0) PRIMARY KEY,
        ID_SMENA NUMBER(10,0) NOT NULL,
        ID_OBJEKAT NUMBER(10,0) NOT NULL,
        CONSTRAINT SMENA_FK2 FOREIGN KEY(ID_SMENA) REFERENCES SMENA(ID),
        CONSTRAINT OBJEKAT_FK2 FOREIGN KEY(ID_OBJEKAT) REFERENCES OBJEKAT(ID)
);

CREATE SEQUENCE OBILAZI_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE ZADUZENA(
        ID NUMBER(10,0) PRIMARY KEY,
	ID_EKIPA NUMBER(10,0) NOT NULL,
        ID_OBJEKAT NUMBER(10,0) NOT NULL,
        CONSTRAINT EKIPA_FK3 FOREIGN KEY(ID_EKIPA) REFERENCES EKIPA(ID),
	CONSTRAINT OBJEKAT_FK3 FOREIGN KEY(ID_OBJEKAT) REFERENCES OBJEKAT(ID)
);

CREATE SEQUENCE ZADUZENA_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE INTERVENCIJA(
        ID NUMBER(10,0) PRIMARY KEY,
        ID_EKIPA NUMBER(10,0) NOT NULL,
        ID_OBJEKAT NUMBER(10,0) NOT NULL,
        DATUM DATE NOT NULL,
        VREME VARCHAR(10) NOT NULL,
        OPIS VARCHAR(100) NOT NULL,
        CONSTRAINT EKIPA_FK4 FOREIGN KEY(ID_EKIPA) REFERENCES EKIPA(ID),
        CONSTRAINT OBJEKAT_FK4 FOREIGN KEY(ID_OBJEKAT) REFERENCES OBJEKAT(ID)
);

CREATE SEQUENCE INTERVENCIJA_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;

CREATE TABLE DUZI(
        ID NUMBER(10,0) PRIMARY KEY,
	ID_EKIPA NUMBER(10,0) NOT NULL,
        ID_VOZILO NUMBER(10,0) NOT NULL,
        DUZI_OD DATE NOT NULL,
        DUZI_DO DATE NOT NULL,
	CONSTRAINT EKIPA_FK5 FOREIGN KEY(ID_EKIPA) REFERENCES EKIPA(ID),
        CONSTRAINT VOZILO_FK FOREIGN KEY(ID_VOZILO) REFERENCES VOZILO(ID) 
);

CREATE SEQUENCE DUZI_ID
MINVALUE 0
START WITH 0
INCREMENT BY 1
ORDER;